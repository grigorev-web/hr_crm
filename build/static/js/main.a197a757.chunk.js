(this.webpackJsonphh=this.webpackJsonphh||[]).push([[0],{227:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(24),o=n.n(a),i=n(5),s=(n(94),n(6)),r=Object(c.createContext)(),l=n(0);var d=function(e){var t,n,a=Object(c.useContext)(r),o=(a.state,a.dispatch),i=Object(c.useRef)(null);return t=i,n=function(){return o({type:"CLICK_OUTSIDE_MENU"})},Object(c.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&n()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),Object(l.jsx)("div",{ref:i,children:e.children})},h=n(7),p=n(17),j="/dg/hh";function b(e){var t=Object(c.useContext)(r),n=t.state,a=t.dispatch,o=function(){return n.sideMenu.active?Object(l.jsx)(s.j,{className:"menu-toggle-btn"}):Object(l.jsx)(s.a,{className:"menu-toggle-btn"})},i=Object(h.f)();return Object(c.useEffect)((function(){n.sideMenu.active&&a({type:"SET_SIDE_MENU_INACTIVE"})}),[i]),Object(l.jsx)(d,{children:Object(l.jsxs)("div",{className:"side-menu ".concat(n.sideMenu.active?"active":""),children:[Object(l.jsx)("div",{className:"menu-toggle-btn-wrapper",onClick:function(){return a({type:"TOGGLE_SIDE_MENU"})},children:Object(l.jsx)(o,{})}),Object(l.jsx)("div",{className:"menu-header",children:Object(l.jsxs)("div",{className:"menu-logo",children:[Object(l.jsx)("img",{width:"18px",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAmRJREFUOBGlk0tIVFEYx3/n3us0pczkI1FBKBgXGRXjlYqojVqLIBeB5rLatAqCFi1q4cpNu2jVItpWm4JIyhFaKEHOiFlam1DCsPDVOJPVON7T/84EGQgRHfju9/h/73Mu/OcxYfwEnWc34KrFpD1IFwnSkHjdzu31v+UvJRin61JAcHOzs8H8sNgJgzMmpzGw6STH3xn6g81+KigIuw/MshyfSJ6VvCg57+DOW4IVl4plxKeZ8sbp9OVzBiX2ysnVM52TDly0eAsVeEsFHBcasz4rgeGBpisVUc5eZ5JstEjxmYWjMk/JGCboeBNnm5/FU+DaU7mPqIIwWye4ViRu62SQbGrVgepJgvulETSvk2U9aigMCDwmTPTHqKH7mpIsCK+Ssl2kYxadV5ysF9DsM7TqYgdkHdXibinpaWU/7BLZA5WVcSI1lkSLOq0W9rgUDy/MOCe6AzYeKajVJ/V2ip5IkXz9QQbnfjlpyf1ehtGOSoJMQE2uQK5pg8KM5jhlMnSd16bvaJ6MWrquoK/ijWq1QQ4NIQ912Q9Izrm4fUmGJrT4JYgc8rTNcEmqgq/vYCiXNH1/b0Fo+RSF7QxFFXzpM/jeM9gLZdjMC/wg4KP0z5pzTvQpEHcIQrlFj605Seq5OtHoXaUwdWD3ljOaa22k7k7TW/GN7zFd5xFD1Ug7D7+EARm6Z32iep09rsa+rGL7S3EZOm7oH9glRe2ZKz7V+UlyiSKFVtmTsu8Q6Q3YZum7FdgkXVdu7vkM96njrc8M56KrZGMB+biLiemviis4rnFiepripNoYnt46+h+sPwFv1+GxHlpThgAAAABJRU5ErkJggg==",alt:"HR CRM"}),"HR CRM"]})}),Object(l.jsxs)("div",{className:"menu-body",children:[Object(l.jsxs)("div",{className:"menu-user",children:[Object(l.jsx)(s.l,{className:"menu-user-logo"}),Object(l.jsx)("div",{className:"menu-user-name",children:n.login}),Object(l.jsx)("div",{className:"menu-user-role",children:n.role})]}),Object(l.jsx)(p.b,{to:"".concat(j,"/operator"),children:Object(l.jsxs)("p",{children:[Object(l.jsx)(s.f,{className:"menu-icon"})," ",Object(l.jsx)("span",{children:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440"})]})}),Object(l.jsx)(p.b,{to:"".concat(j,"/recruter"),children:Object(l.jsxs)("p",{children:[Object(l.jsx)(s.p,{className:"menu-icon"})," ",Object(l.jsx)("span",{children:"\u0420\u0435\u043a\u0440\u0443\u0442\u0435\u0440"})]})}),Object(l.jsx)(p.b,{to:"".concat(j,"/admin"),children:Object(l.jsxs)("p",{children:[Object(l.jsx)(s.n,{className:"menu-icon"})," ",Object(l.jsx)("span",{children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"})]})}),Object(l.jsx)(p.b,{to:"".concat(j,"/stat"),children:Object(l.jsxs)("p",{children:[Object(l.jsx)(s.b,{className:"menu-icon"})," ",Object(l.jsx)("span",{children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u043a\u0430"})]})}),Object(l.jsx)(p.b,{to:"".concat(j,"/settings"),children:Object(l.jsxs)("p",{children:[Object(l.jsx)(s.d,{className:"menu-icon"})," ",Object(l.jsx)("span",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})}),Object(l.jsx)(p.b,{to:"".concat(j,"/logout"),children:Object(l.jsxs)("p",{onClick:function(){return a({type:"LOGOUT"})},children:[Object(l.jsx)(s.i,{className:"menu-icon"}),Object(l.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438"})]})})]})]})})}var u=n(4),O=n.n(u),g=n(86),m=function(){var e=Object(c.useContext)(r),t=e.state,n=e.dispatch,a=t.persons.filter((function(e){return e.selected}));return Object(l.jsxs)("div",{id:"dop-menu",children:["admin"===t.role||"operator"===t.role?Object(l.jsx)("div",{className:"btn btn-success m-2 ".concat(a.length?"active":""),onClick:function(){return function(){console.log("date0",new Date);var e=[];t.persons.map((function(t){t.selected&&e.push(t.id)})),e.length?(e=e.join(","),console.log("date before axios",new Date),O()("http://10.105.0.8/dg/hh/api/?action=upload_to_call&ids=".concat(e,"&login=").concat(t.login,"&env=").concat(t.env)).then((function(e){e.data.login?(n({type:"CLEAR_SELECTED_PERSONS"}),e.data.success&&alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b!")):n({type:"LOGOUT"})})).catch((function(e){console.log(e)}))):alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u044b")}()},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0432 \u043e\u0431\u0437\u0432\u043e\u043d"}):"",Object(l.jsx)("a",{href:"#",className:"m-2 text-danger ".concat(a.length?"active":""),onClick:function(){return function(){var e=[];t.persons.map((function(t){t.selected&&e.push(t.id)})),e.length?(e=e.join(","),O()("http://10.105.0.8/dg/hh/api/?action=delete_resume&ids=".concat(e,"&login=").concat(t.login,"&env=").concat(t.env)).then((function(c){if(!c.data.login)return alert("\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"),void n({type:"LOGOUT"});n({type:"CLEAR_SELECTED_PERSONS"}),c.data.success&&alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b!"),n({type:"ONLOAD_TABLE",persons:t.persons.filter((function(t){return!e.includes(t.id)}))})})).catch((function(e){console.log(e)}))):alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u044b")}()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),"admin"===t.role||"operator"===t.role?Object(l.jsx)("a",{href:"#",className:"m-2 text-primary ".concat(a.length?"active":""),onClick:function(){n({type:"SHOW_CHANGE_HR"})},children:"\u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c HR"}):Object(l.jsx)("a",{href:"#",className:"m-2 text-primary ".concat(a.length?"active":""),onClick:function(){return function(){var e=[];t.persons.map((function(t){t.selected&&e.push(t.id)})),e.length?(e=e.join(","),O()("http://10.105.0.8/dg/hh/api/?action=change_hr&ids=".concat(e,"&login=").concat(t.login,"&env=").concat(t.env,"&hr=operator")).then((function(e){if(console.log("change_hr result",e),!e.data.login)return alert("\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"),void n({type:"LOGOUT"});n({type:"CLEAR_SELECTED_PERSONS"}),e.data.success&&alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0443!"),O()("http://10.105.0.8/dg/hh/api/index.php?action=get_persons&login=".concat(t.login,"&env=").concat(t.env)).then((function(e){console.log(e),e.data.login?(n({type:"ONLOAD_TABLE",persons:e.data.persons}),console.log("ONLOAD_TABLE")):n({type:"LOGOUT"})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))):alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u044b")}()},children:"\u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0443"}),Object(l.jsx)("a",{href:"http://10.105.0.8/dg/hh/download.php",className:"m-2",children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),Object(l.jsx)("a",{href:"http://10.105.0.8/dg/hh/upload.php?hr=".concat(t.login),target:"_blank",children:Object(l.jsx)("div",{className:"btn btn-info btn-sm text-white m-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})}),Object(l.jsx)("a",{href:"http://10.105.0.8/dg/hh/add_contact.php",target:"_blank",children:Object(l.jsx)("div",{className:"btn btn-info btn-sm text-white m-2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})})]})},f={0:"\u043d\u043e\u0432\u044b\u0439 (\u043d\u0435\u0442 \u0437\u0432\u043e\u043d\u043a\u043e\u0432)",1:"\u043f\u0435\u0440\u0435\u0437\u0432\u043e\u043d\u0438\u0442\u044c",2:"\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d",3:"\u043e\u0442\u043a\u0430\u0437\u0430\u043b\u0441\u044f \u043f\u0440\u0438 \u0437\u0432\u043e\u043d\u043a\u0435",4:"\u041d\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",5:"\u0441\u0432\u044f\u0437\u044c \u043f\u0440\u0435\u0440\u0432\u0430\u043b\u0430\u0441\u044c",6:"\u0431\u0440\u043e\u0441\u0438\u043b \u0442\u0440\u0443\u0431\u043a\u0443",7:"\u043e\u0442\u043a\u0430\u0437 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430"};function x(e){var t=Object(c.useContext)(r),n=t.state,a=t.dispatch;function o(t){2!=t?O()("http://10.105.0.8/dg/hh/api/index.php?action=change_status&login=".concat(n.login,"&env=").concat(n.env,"&id=").concat(e.id,"&status=").concat(t,"&phone=").concat(e.phone,"&comment=\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440")).then((function(c){console.log(c),c.data.login?a({type:"ONLOAD_TABLE",persons:n.persons.map((function(n){return n.id==e.id&&(n.status=t.toString()),n}))}):a({type:"LOGOUT"})})).catch((function(e){console.log(e)})):a({type:"SHOW_MODAL_TIME",id:e.id,phone:e.phone,status:"2"})}return Object(l.jsxs)("div",{className:"status-change-icons",children:[Object(l.jsx)(s.h,{onClick:function(){return o(1)},title:"\u041f\u0435\u0440\u0435\u0437\u0432\u043e\u043d\u0438\u0442\u044c",style:{color:"darkblue"}}),Object(l.jsx)(s.m,{onClick:function(){return o(2)},title:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d",style:{color:"green"}}),Object(l.jsx)(s.o,{onClick:function(){return o(3)},title:"\u041e\u0442\u043a\u0430\u0437\u0430\u043b\u0441\u044f",style:{color:"#a73c5f"}}),Object(l.jsx)(s.g,{onClick:function(){return o(4)},title:"\u041d\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430"}),Object(l.jsx)(s.k,{onClick:function(){return o(5)},title:"\u0421\u0432\u044f\u0437\u044c \u043f\u0440\u0435\u0440\u0432\u0430\u043b\u0430\u0441\u044c"}),Object(l.jsx)(s.q,{onClick:function(){return o(6)},title:"\u0411\u0440\u043e\u0441\u0438\u043b \u0442\u0440\u0443\u0431\u043a\u0443"}),Object(l.jsx)(s.j,{onClick:function(){return o(7)},title:"\u041e\u0442\u043a\u0430\u0437 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430"})]})}var v=function(e){var t=Object(c.useContext)(r),n=t.state,a=t.dispatch,o=e.person,i=e.index;if(o){var d;switch(o.status){case"":case"0":d="";break;case"1":d="table-primary";break;case"2":d="table-success";break;case"3":d="table-danger";break;case"4":d="";break;default:d="table-secondary"}return d+=" "+o.status,o.selected&&(d+=" selected"),Object(l.jsxs)("tr",{style:{letterSpacing:"-0.6px"},className:d,onClick:function(){return e=o.selected,t=o.id,void a({type:"SET_SELECTED_PERSON",selected:e,id:t});var e,t},children:[Object(l.jsxs)("td",{onMouseEnter:function(){return h(o.id,o.phone)},onMouseLeave:function(){return p()},children:[o.selected?Object(l.jsx)(s.c,{style:{color:"#54e6a2",width:20,height:20}}):""," ",o.id]}),Object(l.jsx)("td",{title:o.date,onMouseEnter:function(){return h(o.id,o.phone)},onMouseLeave:function(){return p()},children:Object(l.jsx)("a",{href:o.resume,target:"_blank",children:o.name})}),Object(l.jsx)("td",{children:o.phone}),Object(l.jsx)("td",{style:{fontSize:"14px"},children:o.city}),Object(l.jsx)("td",{style:{fontSize:"14px"},children:o.comment}),Object(l.jsx)("td",{style:{fontSize:"14px"},children:o.file?Object(l.jsx)("a",{href:"http://10.105.0.8/dg/hh/api/resume/".concat(o.file),target:"_blank",children:"\u0440\u0435\u0437\u044e\u043c\u0435"}):Object(l.jsx)("input",{type:"file",className:"form-control",name:"upload_file1",onChange:function(e){return function(e,t){if(console.log("resume file",e.target.files[0]),"application/pdf"===e.target.files[0].type){var c=new FormData;c.append("file1",e.target.files[0]);var o="http://10.105.0.8/dg/hh/api/index.php?action=set_resume_file&login=".concat(n.login,"&env=").concat(n.env,"&id=").concat(t);O.a.post(o,c,{}).then((function(e){console.warn(e),console.log(e.data),alert("\u0424\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d")})),O()("http://10.105.0.8/dg/hh/api/index.php?action=get_persons&login=".concat(n.login,"&env=").concat(n.env)).then((function(e){console.log(e),e.data.login?(a({type:"ONLOAD_TABLE",persons:e.data.persons}),console.log("ONLOAD_TABLE")):a({type:"LOGOUT"})})).catch((function(e){console.log(e)}))}else alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u0417\u0430\u0433\u0440\u0438\u0437\u0438\u0442\u0435 PDF")}(e,o.id)}})}),Object(l.jsx)("td",{children:o.selected?Object(l.jsx)(x,{id:o.id,phone:o.phone}):f[o.status]}),Object(l.jsx)("td",{children:o.hr})]},i)}function h(e,t){a({type:"SET_SIDE_INFO_ACTIVE",id:e,side:"right"}),clearTimeout(n.sideInfo.timer),a({type:"SET_SIDE_INFO_LOADING",loading:!0});var c=setTimeout((function(){console.log("timeout"),a({type:"SET_SIDE_INFO_LOADING",loading:!1}),O()("http://10.105.0.8/dg/hh/api/?action=get_history&phone=".concat(t,"&login=").concat(n.login,"&env=").concat(n.env)).then((function(e){if(!e.data.login)return alert("\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"),void a({type:"LOGOUT"});a({type:"SIDE_INFO_SET_HISTORY",history:e.data.history})}))}),1e3);a({type:"SET_SIDE_INFO_TIMER",timer:c})}function p(){a({type:"SET_SIDE_INFO_INACTIVE"})}},_=function(e){var t=Object(c.useContext)(r),n=t.state,a=t.dispatch,o=Object(c.useState)(!1),s=Object(i.a)(o,2);s[0],s[1];return Object(c.useEffect)((function(){O()("http://10.105.0.8/dg/hh/api/index.php?action=get_persons&login=".concat(n.login,"&env=").concat(n.env)).then((function(e){console.log(e),e.data.login?(a({type:"ONLOAD_TABLE",persons:e.data.persons}),console.log("ONLOAD_TABLE")):a({type:"LOGOUT"})})).catch((function(e){console.log(e)}))}),[]),Object(l.jsxs)("div",{className:"app-page",children:[Object(l.jsx)("h2",{children:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440"}),Object(l.jsx)("hr",{}),Object(l.jsx)(g.a,{dataLength:n.persons,next:function(){if(n.persons[n.persons.length-1]){var e=n.persons[n.persons.length-1].id;O()("http://10.105.0.8/dg/hh/api/?action=get_more_persons&last_id=".concat(e,"&login=").concat(n.login,"&env=").concat(n.env)).then((function(e){e.data.login?a({type:"FETCH_MORE_PERSONS",persons:e.data.persons}):a({type:"LOGOUT"})}))}},hasMore:!0,loader:Object(l.jsx)("h4",{}),children:Object(l.jsxs)("table",{className:"table table-hover table-persons",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"#"}),Object(l.jsx)("th",{scope:"col",children:"\u0418\u043c\u044f"}),Object(l.jsx)("th",{scope:"col",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(l.jsx)("th",{scope:"col",children:"\u0413\u043e\u0440\u043e\u0434"}),Object(l.jsx)("th",{scope:"col",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(l.jsx)("th",{scope:"col",children:"\u0420\u0435\u0437\u044e\u043c\u0435"}),Object(l.jsx)("th",{scope:"col",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(l.jsx)("th",{scope:"col",children:"HR"})]})}),Object(l.jsx)("tbody",{children:n.persons.length?n.persons.map((function(e,t){return Object(l.jsx)(v,{person:e,index:t})})):Object(l.jsx)("p",{children:"\u041d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"})})]})}),Object(l.jsx)(m,{})]})},y=n(2),E=n(18);function N(e,t){if("NULL"==e)return!1;var n=e,c=n.split("/")[2].split(" ")[0],a=n.split("/")[1]-1,o=n.split("/")[0],i=n.split("/")[2].split(" ")[1].split(":")[0],s=new Date(c,a,o,i);switch(t){case"today":return(new Date).toDateString()===s.toDateString();case"tomorrow":return new Date((new Date).getTime()+864e5).toDateString()==s.toDateString();default:return!1}}var S=function(){var e=Object(c.useContext)(r),t=e.state,n=e.dispatch,a=Object(c.useState)(t.persons),o=Object(i.a)(a,2),d=(o[0],o[1],Object(c.useState)("")),h=Object(i.a)(d,2),p=h[0],j=h[1],b=[{id:2,html_id:"droppable2",name:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d"},{id:10,html_id:"droppable10",name:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b"},{id:11,html_id:"droppable11",name:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b"},{id:12,html_id:"droppable12",name:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043d\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430"},{id:13,html_id:"droppable13",name:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043e"},{id:14,html_id:"droppable14",name:"\u041d\u0435 \u043f\u0440\u0438\u0448\u0435\u043b"},{id:15,html_id:"droppable15",name:"\u041e\u0442\u043a\u0430\u0437 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430"},{id:16,html_id:"droppable16",name:"\u041e\u0442\u043a\u0430\u0437 \u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u0430"},{id:20,html_id:"droppable20",name:"\u0417\u0430\u043f\u0438\u0441\u0430\u043d \u043d\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"},{id:23,html_id:"droppable23",name:"\u0421\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0443\u043c\u0430\u0435\u0442"},{id:24,html_id:"droppable24",name:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u0440\u0438\u0448\u0435\u043b"},{id:25,html_id:"droppable25",name:"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b"},{id:21,html_id:"dropable_delete",name:"\u041e\u0442\u043a\u0430\u0437"},{id:30,html_id:"dropable_accept",name:"\u041f\u0440\u0438\u043d\u044f\u0442"}];if("operator"===t.role)return Object(l.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"});function u(e,t){if(!t.isDropAnimating)return e;var n=t.dropAnimation,c=n.moveTo,a=n.curve,o=n.duration,i="translate(".concat(c.x,"px, ").concat(c.y,"px)");return Object(y.a)(Object(y.a)({},e),{},{transform:"".concat(i," "),transition:"all ".concat(a," ").concat(o+.03,"s")})}function g(e){j("loading"),O()("http://10.105.0.8/dg/hh/api/index.php?action=get_candidates&login=".concat(t.login,"&env=").concat(t.env)).then((function(t){if(console.log(t),j(""),t.data.login){var c=t.data.persons;"today"==e&&(c=c.filter((function(e){return!(!e.sobes||!N(e.sobes,"today"))&&e}))),"tomorrow"==e&&(c=c.filter((function(e){return!(!e.sobes||!N(e.sobes,"tomorrow"))&&e}))),n({type:"SET_CANDIDATES",candidates:c.map((function(e){return e.index=e.id,e.column="droppable"+e.status,e}))})}else n({type:"LOGOUT"})})).catch((function(e){console.log(e)}))}return Object(c.useEffect)((function(){return g("all")}),[]),Object(l.jsxs)("div",{className:"app-page",children:[Object(l.jsx)("h2",{children:"\u0420\u0435\u043a\u0440\u0443\u0442\u0435\u0440"}),Object(l.jsxs)("div",{className:"recruter-links",children:[Object(l.jsx)("a",{className:"btn btn-primary",href:"#",onClick:function(){return g("all")},children:"\u0412\u0441\u0435"}),Object(l.jsx)("a",{className:"btn btn-primary",href:"#",onClick:function(){return g("today")},children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(l.jsx)("a",{className:"btn btn-primary",href:"#",onClick:function(){return g("tomorrow")},children:"\u0417\u0430\u0432\u0442\u0440\u0430"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"drag-table "+p,children:Object(l.jsxs)(E.a,{onDragEnd:function(e){if(e.destination&&e.source.droppableId!=e.destination.droppableId){var c,a,o,i,s=t.candidates.map((function(t){if(t.index==e.source.index){c=t.id,i=t.phone,b.map((function(t){t.html_id==e.destination.droppableId&&(a=t.id),t.html_id==e.source.droppableId&&(o=t.id)}));var n=Object(y.a)({},t);return n.column=e.destination.droppableId,n}return t}));if(13!=a){var r=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)");r?O()("http://10.105.0.8/dg/hh/api/index.php?action=change_status&login=".concat(t.login,"&env=").concat(t.env,"&id=").concat(c,"&status=").concat(a,"&phone=").concat(i,"&comment=").concat(r)).then((function(e){console.log(e),e.data.login?n({type:"SET_CANDIDATES",candidates:s}):n({type:"LOGOUT"})})).catch((function(e){console.log(e)})):alert("\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e")}else n({type:"SHOW_MODAL_TIME",id:c,phone:i,status:"13",oldStatus:o})}},children:[b.map((function(e,c){if(21!=e.id&&30!=e.id&&11!=e.id&&16!=e.id)return Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{style:{minHeight:"50px"},children:e.name}),Object(l.jsx)(E.c,{droppableId:e.html_id,children:function(c,a){return Object(l.jsxs)("div",Object(y.a)(Object(y.a)({},c.droppableProps),{},{ref:c.innerRef,style:{backgroundColor:a.isDraggingOver?"#e7ffca":"#f1ffe0",minWidth:"150px",height:"100vh",borderRadius:"10px",margin:"1px"},children:[t.candidates.map((function(c,a){if(c.column==e.html_id){return Object(l.jsx)(E.b,{draggableId:c.index.toString(),index:c.index,children:function(e,a){return Object(l.jsxs)("div",Object(y.a)(Object(y.a)(Object(y.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:u(e.draggableProps.style,a),children:[Object(l.jsx)("p",{children:Object(l.jsx)("a",{href:c.resume,target:"_blank",style:{color:"black",textDecoration:"none"},children:c.name})}),Object(l.jsx)("p",{children:c.phone}),Object(l.jsx)("p",{style:{color:c.sobes?N(c.sobes,"today")?"green":N(c.sobes,"tomorrow")?"blue":"darkgray":"red"},children:c.sobes}),Object(l.jsxs)("p",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[c.file?Object(l.jsx)("a",{href:"http://10.105.0.8/dg/hh/api/resume/".concat(c.file),target:"_blank",children:"\u0440\u0435\u0437\u044e\u043c\u0435"}):Object(l.jsx)("input",{type:"file",className:"form-control",name:"upload_file1",onChange:function(e){return function(e,n){if(console.log("resume file",e.target.files[0]),"application/pdf"===e.target.files[0].type){var c=new FormData;c.append("file1",e.target.files[0]);var a="http://10.105.0.8/dg/hh/api/index.php?action=set_resume_file&login=".concat(t.login,"&env=").concat(t.env,"&id=").concat(n);O.a.post(a,c,{}).then((function(e){console.warn(e),console.log(e.data),alert("\u0424\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d")})),g("all")}else alert("\u041e\u0448\u0438\u0431\u043a\u0430: \u0417\u0430\u0433\u0440\u0438\u0437\u0438\u0442\u0435 PDF")}(e,c.id)}}),Object(l.jsx)(s.e,{style:{width:"20px",height:"20px",color:"darkgray",margin:"0 10px"},onMouseEnter:function(e){return function(e,c,a){var o=e.pageX<1e3?"right":"left";n({type:"SET_SIDE_INFO_ACTIVE",id:c,side:o}),clearTimeout(t.sideInfo.timer),n({type:"SET_SIDE_INFO_LOADING",loading:!0});var i=setTimeout((function(){console.log("timeout"),n({type:"SET_SIDE_INFO_LOADING",loading:!1}),O()("http://10.105.0.8/dg/hh/api/?action=get_history&phone=".concat(a,"&login=").concat(t.login,"&env=").concat(t.env)).then((function(e){if(!e.data.login)return alert("\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"),void n({type:"LOGOUT"});n({type:"SIDE_INFO_SET_HISTORY",history:e.data.history})}))}),1e3);n({type:"SET_SIDE_INFO_TIMER",timer:i})}(e,c.id,c.phone)},onMouseLeave:function(){n({type:"SET_SIDE_INFO_INACTIVE"})}})]}),Object(l.jsx)("p",{className:"hr-badge",children:"admin"===t.role?c.hr:""})]}))}},c.index)}})),c.placeholder]}))}}),10===e.id?Object(l.jsx)(E.c,{droppableId:"droppable11",children:function(e,t){return Object(l.jsxs)("div",Object(y.a)(Object(y.a)({},e.droppableProps),{},{ref:e.innerRef,style:{margin:"1px",borderRadius:"10px",opacity:t.isDraggingOver?"1":"0.5",minWidth:"150px",height:"50vh"},children:[Object(l.jsx)("p",{children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b"}),e.placeholder]}))}}):"",15===e.id?Object(l.jsx)(E.c,{droppableId:"droppable16",children:function(e,t){return Object(l.jsxs)("div",Object(y.a)(Object(y.a)({},e.droppableProps),{},{ref:e.innerRef,style:{margin:"1px",borderRadius:"10px",opacity:t.isDraggingOver?"1":"0.5",minWidth:"150px",height:"50vh"},children:[Object(l.jsx)("p",{children:"\u041e\u0442\u043a\u0430\u0437 \u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u0430"}),e.placeholder]}))}}):""]},c)})),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{style:{minHeight:"50px"}}),Object(l.jsx)(E.c,{droppableId:"dropable_delete",children:function(e,t){return Object(l.jsxs)("div",Object(y.a)(Object(y.a)({},e.droppableProps),{},{ref:e.innerRef,style:{backgroundColor:"pink",margin:"1px",borderRadius:"10px",opacity:t.isDraggingOver?"1":"0.5",minWidth:"150px",height:"50vh"},children:[Object(l.jsx)("p",{children:"\u041e\u0442\u043a\u0430\u0437"}),e.placeholder]}))}}),Object(l.jsx)(E.c,{droppableId:"dropable_accept",children:function(e,t){return Object(l.jsxs)("div",Object(y.a)(Object(y.a)({},e.droppableProps),{},{ref:e.innerRef,style:{backgroundColor:"#90ff90",opacity:t.isDraggingOver?"1":"0.5",margin:"1px",borderRadius:"10px",minWidth:"150px",height:"50vh"},children:[Object(l.jsx)("p",{children:"\u041f\u0440\u0438\u043d\u044f\u0442"}),e.placeholder]}))}})]})]})})]})},I=n.p+"static/media/logo_small.f2b9c75c.svg";function T(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],o=n[1],s=Object(c.useState)(""),r=Object(i.a)(s,2),d=r[0],h=r[1],p=e.dispatch,j=e.state;function b(e){e.preventDefault(),O()("http://10.105.0.8/dg/hh/api/?action=auth&login=".concat(a,"&pass=").concat(d,"&env=").concat(j.env)).then((function(e){console.log(e),e.data.login?p({type:"LOGIN",login:e.data.login,role:e.data.role}):alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")})).catch((function(e){console.log(e)}))}return console.log("login",a),Object(l.jsxs)("div",{className:"row login-page",children:[Object(l.jsx)("img",{className:"login-logo",src:I}),Object(l.jsxs)("form",{className:"login-container",onSubmit:function(e){return b(e)},children:[Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){return o(e.target.value)}})}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"password",className:"form-control mt-4",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return h(e.target.value)}})}),Object(l.jsx)("button",{className:"btn btn-danger mt-3",onClick:function(e){return b(e)},type:"submit",children:"\u0412\u0445\u043e\u0434"})]})]})}var C=n(21),A=function(e){var t=e.report,n=[],c=[];for(var a in t)n.push(a+" \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"),n.push(a+" \u0417\u0432\u043e\u043d\u043a\u043e\u0432"),n.push(a+" \u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u043e"),n.push(" "),c.push(t[a].news),c.push(t[a].calls),c.push(t[a].invite),c.push(0);var o={indexAxis:"y",scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"\u041a\u043e\u043b-\u0432\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0440\u0435\u0437\u044e\u043c\u0435"}),Object(l.jsx)(C.a,{type:"horizontalBar",data:function(){var e=[],n=[];for(var c in t)e.push(c),n.push(t[c].news);return{labels:e,datasets:[{label:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e",data:n,backgroundColor:["azure"],borderColor:["black"],borderWidth:1}]}},options:o}),Object(l.jsx)("h2",{children:"\u041a\u043e\u043b-\u0432\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043d\u044b\u0445 \u0437\u0432\u043e\u043d\u043a\u043e\u0432"}),Object(l.jsx)(C.a,{type:"horizontalBar",data:function(){var e=[],n=[];for(var c in t)e.push(c),n.push(t[c].calls);return{labels:e,datasets:[{label:"\u0417\u0432\u043e\u043d\u043a\u043e\u0432",data:n,backgroundColor:["#0000ff33"],borderColor:["black"],borderWidth:1}]}},options:o}),Object(l.jsx)("h2",{children:"\u041a\u043e\u043b-\u0432\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0439"}),Object(l.jsx)(C.a,{type:"horizontalBar",data:function(){var e=[],n=[];for(var c in t)e.push(c),n.push(t[c].invite);return{labels:e,datasets:[{label:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u044b",data:n,backgroundColor:["green"],borderColor:["black"],borderWidth:1}]}},options:o}),Object(l.jsx)("h2",{children:"\u0414\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u043d\u0430 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(l.jsx)(C.a,{type:"horizontalBar",data:function(){var e=[],n=[];for(var c in t)e.push(c),n.push(t[c].interview);return{labels:e,datasets:[{label:"\u0414\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u043d\u0430 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435",data:n,backgroundColor:["darkgray"],borderColor:["black"],borderWidth:1}]}},options:o}),Object(l.jsx)("h2",{children:"\u0414\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u043d\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(l.jsx)(C.a,{type:"horizontalBar",data:function(){var e=[],n=[];for(var c in t)e.push(c),n.push(t[c].learning);return{labels:e,datasets:[{label:"\u0414\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u043d\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435",data:n,backgroundColor:["pink"],borderColor:["black"],borderWidth:1}]}},options:o}),Object(l.jsx)("h2",{children:"\u041f\u0440\u0438\u043d\u044f\u0442\u044b \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"}),Object(l.jsx)(C.a,{type:"horizontalBar",data:function(){var e=[],n=[];for(var c in t)e.push(c),n.push(t[c].job);return{labels:e,datasets:[{label:"\u041f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443",data:n,backgroundColor:["darkgreen"],borderColor:["black"],borderWidth:1}]}},options:o})]})},D=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],o=n[1],s=Object(c.useState)(""),d=Object(i.a)(s,2),h=d[0],p=d[1],j=Object(c.useState)("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"),b=Object(i.a)(j,2),u=b[0],g=b[1],m=Object(c.useContext)(r),f=m.state,x=m.dispatch;function v(e){p("loading"),O()("http://10.105.0.8/dg/hh/api/index.php?action=get_report&report=main&login=".concat(f.login,"&env=").concat(f.env,"&period=").concat(e)).then((function(e){p(""),console.log(e),e.data.login?(g(e.data.report.total.date1+"---"+e.data.report.total.date2),0!=e.data.report.total.news?o(e.data.report):alert("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0437\u0430 \u044d\u0442\u043e\u0442 \u043f\u0435\u0440\u0438\u043e\u0434")):x({type:"LOGOUT"})})).catch((function(e){console.log(e)}))}return Object(l.jsxs)("div",{className:"container mt-5 ".concat(h),children:[Object(l.jsx)("h4",{children:u}),Object(l.jsxs)("div",{className:"report-btns",children:[Object(l.jsx)("div",{onClick:function(){return v("week")},className:"btn btn-primary",children:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(l.jsx)("div",{onClick:function(){return v("last-week")},className:"btn btn-primary",children:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"}),Object(l.jsx)("div",{onClick:function(){return v("month")},className:"btn btn-primary",children:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"}),Object(l.jsx)("div",{onClick:function(){return v("last-month")},className:"btn btn-primary",children:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446"}),Object(l.jsx)("div",{onClick:function(){return v("yesterday")},className:"btn btn-secondary",children:"\u0412\u0447\u0435\u0440\u0430"}),Object(l.jsx)("div",{onClick:function(){return v("today")},className:"btn btn-success",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(l.jsx)("div",{onClick:function(){return v("year")},className:"btn btn-primary",children:"\u0417\u0430 \u0433\u043e\u0434"})]}),Object(l.jsx)(A,{report:a})]})};function L(){var e=Object(c.useContext)(r),t=e.state,n=e.dispatch,a=Object(c.useState)(""),o=Object(i.a)(a,2),s=o[0],d=o[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),j=p[0],b=p[1],u=Object(c.useState)(""),g=Object(i.a)(u,2),m=g[0],f=g[1];return Object(l.jsxs)("div",{className:"dg-modal",children:[Object(l.jsx)("h3",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(l.jsxs)("div",{className:"dg-modal-body",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"\u0414\u0430\u0442\u0430:"}),Object(l.jsx)("input",{type:"date",value:s,onChange:function(e){return d(e.target.value)}})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"\u0412\u0440\u0435\u043c\u044f:"}),Object(l.jsx)("input",{type:"time",value:j,onChange:function(e){return b(e.target.value)}})]})]}),Object(l.jsxs)("div",{className:"dg-modal-textarea",children:[Object(l.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(l.jsx)("input",{type:"textarea",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(l.jsxs)("div",{className:"dg-modal-btns",children:[Object(l.jsx)("div",{onClick:function(){if(s)if(j)if(m){var e=s.split("-")[0],c=s.split("-")[1],a=s.split("-")[2],o="".concat(a,"/").concat(c,"/").concat(e," ").concat(j);O()("http://10.105.0.8/dg/hh/api/index.php?action=change_status&login=".concat(t.login,"&env=").concat(t.env,"&id=").concat(t.modalTimeID,"&status=").concat(t.modalStatus,"&phone=").concat(t.modalTimePhone,"&comment=").concat(m,"&date=").concat(o)).then((function(e){console.log(e),e.data.login?(2==t.modalStatus&&n({type:"ONLOAD_TABLE",persons:t.persons.map((function(e){return e.id==t.modalTimeID&&(e.status="2"),e}))}),13==t.modalStatus&&O()("http://10.105.0.8/dg/hh/api/index.php?action=get_candidates&login=".concat(t.login,"&env=").concat(t.env)).then((function(e){if(console.log(e),e.data.login){var t=e.data.persons;n({type:"SET_CANDIDATES",candidates:t.map((function(e){return e.index=e.id,e.column="droppable"+e.status,e}))})}else n({type:"LOGOUT"})})).catch((function(e){console.log(e)})),n({type:"HIDE_MODAL_TIME"})):n({type:"LOGOUT"})})).catch((function(e){console.log(e)}))}else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439");else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f");else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443")},className:"btn btn-success",children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),Object(l.jsx)("div",{onClick:function(){n({type:"HIDE_MODAL_TIME"})},className:"btn btn-danger",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}function k(){var e=Object(c.useContext)(r),t=e.state,n=e.dispatch,a=Object(c.useState)("dgrigorev"),o=Object(i.a)(a,2),s=o[0],d=o[1],h=Object(c.useState)(),p=Object(i.a)(h,2),j=p[0],b=p[1];Object(c.useEffect)((function(){O()("http://10.105.0.8/dg/hh/api/index.php?action=get_users&login=".concat(t.login,"&env=").concat(t.env)).then((function(e){console.log(e),e.data.login?b(e.data.users):n({type:"LOGOUT"})})).catch((function(e){console.log(e)}))}),[]);var u=[];if(t.persons.map((function(e){e.selected&&u.push(e.id)})),!u.length)return alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u044b"),n({type:"CLOSE_CHANGE_HR"}),"";u=u.join(",");var g=j?Object(l.jsx)("select",{value:s,onChange:function(e){return d(e.target.value)},children:j.map((function(e,t){return Object(l.jsxs)("option",{index:t,value:e.login,children:[e.login,"(",e.role,") ",e.comment]})}))}):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430";return Object(l.jsxs)("div",{className:"dg-modal",children:[Object(l.jsx)("h3",{children:"\u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u0443"}),Object(l.jsx)("div",{className:"dg-modal-body",children:g}),Object(l.jsxs)("div",{className:"dg-modal-btns",children:[Object(l.jsx)("div",{onClick:function(){O()("http://10.105.0.8/dg/hh/api/index.php?action=change_hr&login=".concat(t.login,"&env=").concat(t.env,"&ids=").concat(u,"&hr=").concat(s)).then((function(e){console.log(e),e.data.login?alert("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b"):n({type:"LOGOUT"})})).catch((function(e){console.log(e)})),O()("http://10.105.0.8/dg/hh/api/index.php?action=get_persons&login=".concat(t.login,"&env=").concat(t.env)).then((function(e){console.log(e),e.data.login?(n({type:"CLOSE_CHANGE_HR"}),n({type:"ONLOAD_TABLE",persons:e.data.persons}),console.log("ONLOAD_TABLE")):n({type:"LOGOUT"})})).catch((function(e){console.log(e)}))},className:"btn btn-success",children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c"}),Object(l.jsx)("div",{onClick:function(){n({type:"CLOSE_CHANGE_HR"})},className:"btn btn-danger",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}function M(e){var t=Object(c.useContext)(r),n=t.state,a=(t.dispatch,{0:"\u043d\u043e\u0432\u044b\u0439 (\u043d\u0435\u0442 \u0437\u0432\u043e\u043d\u043a\u043e\u0432)",1:"\u043f\u0435\u0440\u0435\u0437\u0432\u043e\u043d\u0438\u0442\u044c",2:"\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d",3:"\u043e\u0442\u043a\u0430\u0437\u0430\u043b\u0441\u044f \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u0437\u0432\u043e\u043d\u043a\u0435",4:"\u041d\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",5:"\u0441\u0432\u044f\u0437\u044c \u043f\u0440\u0435\u0440\u0432\u0430\u043b\u0430\u0441\u044c",6:"\u0431\u0440\u043e\u0441\u0438\u043b \u0442\u0440\u0443\u0431\u043a\u0443",7:"\u043e\u0442\u043a\u0430\u0437 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430",10:"\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b",11:"\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043e\u0442\u043a\u0430\u0437\u0430\u043b\u0441\u044f",12:"\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043d\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430",13:"\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043e",15:"\u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u043e",16:"\u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u043e",20:"\u0441\u043e\u0431\u0435\u0441 \u0437\u0430\u043f\u0438\u0441\u0430\u043d \u043d\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435",21:"\u0441\u043e\u0431\u0435\u0441 \u043e\u0442\u043a\u0430\u0437 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0430",22:"\u0441\u043e\u0431\u0435\u0441 \u043e\u0442\u043a\u0430\u0437 \u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u0430",23:"\u0441\u043e\u0431\u0435\u0441 \u0434\u0443\u043c\u0430\u0435\u0442",24:"\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u0440\u0438\u0448\u0435\u043b",25:"\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b",26:"\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u0430\u0437 \u043f\u043e\u0441\u043b\u0435",30:"\u043f\u0440\u0438\u043d\u044f\u0442 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443",31:"\u0443\u0432\u043e\u043b\u0435\u043d",40:"\u0447\u0435\u0440\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a"}),o={38:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440",13:"\u0412 \u043a\u0430\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0433\u043e\u0440\u043e\u0434\u0430",2:"\u0412\u044b \u0435\u0449\u0435 \u0432 \u043f\u043e\u0438\u0441\u043a\u0435?",23:"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e?",30:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",28:"\u0414\u043e\u0437\u0432\u043e\u043d",21:"\u041d\u0435\u0442 - \u043f\u043e \u043a\u0430\u043a\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u0435",15:"\u041a\u0443\u0434\u0430",62:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",51:"\u0421\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435",201:"\u041d\u043e\u0432\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"},i=n.sideInfo.history.map((function(e,t){if(112==e[0].form_id||113==e[0].form_id){var n=e[0].date,c=112==e[0].form_id?"\u0417\u0432\u043e\u043d\u043e\u043a":"\u0421\u043c\u0435\u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430";return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{style:{lineHeight:"0.5"},className:"text-danger",children:[c," ",n]}),Object(l.jsx)("table",{style:{lineHeight:"0.5"},className:"sideinfo-history table table-striped table-bordered w-100 mt-2",children:Object(l.jsx)("tbody",{children:e.map((function(e,t){if(39!=e.field_id&&40!=e.field_id&&7!=e.field_id&&4!=e.field_id)return 201==e.field_id?Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"w-25",children:o[e.field_id]}),Object(l.jsx)("td",{children:a[e.value]})]},t):Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"w-25",children:o[e.field_id]}),Object(l.jsx)("td",{children:e.value})]},t)}))})})]},t)}}));return i=n.sideInfo.loading?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":i,Object(l.jsx)("div",{className:n.sideInfo.side,id:"side-info",children:i})}function R(e,t){switch(t.type){case"TOGGLE_SIDE_MENU":return Object(y.a)(Object(y.a)({},e),{},{appShadow:!e.sideMenu.active,sideMenu:Object(y.a)(Object(y.a)({},e.sideMenu),{},{active:!e.sideMenu.active})});case"CLICK_OUTSIDE_MENU":case"SET_SIDE_MENU_INACTIVE":return Object(y.a)(Object(y.a)({},e),{},{appShadow:!1,sideMenu:Object(y.a)(Object(y.a)({},e.sideMenu),{},{active:!1})});case"ONLOAD_TABLE":return Object(y.a)(Object(y.a)({},e),{},{appShadow:!1,persons:t.persons,sideMenu:Object(y.a)(Object(y.a)({},e.sideMenu),{},{active:!1})});case"FETCH_MORE_PERSONS":return Object(y.a)(Object(y.a)({},e),{},{persons:e.persons.concat(t.persons)});case"SET_SIDE_INFO_ACTIVE":return Object(y.a)(Object(y.a)({},e),{},{sideInfo:Object(y.a)(Object(y.a)({},e.sideInfo),{},{active:!0,id:t.id,side:t.side})});case"SET_SIDE_INFO_INACTIVE":return Object(y.a)(Object(y.a)({},e),{},{sideInfo:Object(y.a)(Object(y.a)({},e.sideInfo),{},{active:!1,side:""})});case"SET_SIDE_INFO_LOADING":return Object(y.a)(Object(y.a)({},e),{},{sideInfo:Object(y.a)(Object(y.a)({},e.sideInfo),{},{loading:t.loading})});case"SET_SIDE_INFO_TIMER":return Object(y.a)(Object(y.a)({},e),{},{sideInfo:Object(y.a)(Object(y.a)({},e.sideInfo),{},{timer:t.timer})});case"SIDE_INFO_SET_HISTORY":return Object(y.a)(Object(y.a)({},e),{},{sideInfo:Object(y.a)(Object(y.a)({},e.sideInfo),{},{history:t.history})});case"SET_SELECTED_PERSON":return Object(y.a)(Object(y.a)({},e),{},{persons:e.persons.map((function(e){return e.id===t.id&&(e.selected=!t.selected),e}))});case"CLEAR_SELECTED_PERSONS":return Object(y.a)(Object(y.a)({},e),{},{persons:e.persons.map((function(e){return e.selected=!1,e}))});case"LOGOUT":return Object(y.a)(Object(y.a)({},e),{},{login:!1});case"LOGIN":return Object(y.a)(Object(y.a)({},e),{},{login:t.login,role:t.role});case"SHOW_MODAL_TIME":return Object(y.a)(Object(y.a)({},e),{},{modalTime:!0,modalTimeID:t.id,modalTimePhone:t.phone,modalStatus:t.status,modalOldStatus:t.oldStatus});case"HIDE_MODAL_TIME":return Object(y.a)(Object(y.a)({},e),{},{modalTime:!1});case"SET_CANDIDATES":return Object(y.a)(Object(y.a)({},e),{},{candidates:t.candidates});case"SHOW_CHANGE_HR":return Object(y.a)(Object(y.a)({},e),{},{modalChangeHR:Object(y.a)(Object(y.a)({},e.modalChangeHR),{},{show:!0})});case"CLOSE_CHANGE_HR":return Object(y.a)(Object(y.a)({},e),{},{modalChangeHR:Object(y.a)(Object(y.a)({},e.modalChangeHR),{},{show:!1})});default:throw new Error}}var w={login:false,role:"",sideMenu:{active:!1},appShadow:!1,persons:[{id:1,phone:"9770001123",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447aaaaaaaaaaaaaaaaaaaaa",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:2,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:3,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:4,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:5,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:6,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:7,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:8,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:9,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"},{id:10,phone:"9770001124",name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",source:"hh",city:"\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u043e\u0433\u043e\u0440\u043e\u0434",comment:"\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0421\u0417"}],coldCalling:[],history:{id:0,records:[]},sideInfo:{active:!1,id:0,loading:!1,timer:0,history:[],side:""},env:"production",modalTime:!1,modalTimeID:0,modalTimePhone:0,modalStatus:0,modalOldStatus:0,candidates:[],modalChangeHR:{show:!1}};function H(){var e=Object(c.useReducer)(R,w),t=Object(i.a)(e,2),n=t[0],a=t[1];return n.login?Object(l.jsx)(r.Provider,{value:{dispatch:a,state:n},children:Object(l.jsx)(p.a,{children:Object(l.jsxs)("div",{className:"App container ".concat(n.appShadow?"shading":""),children:[Object(l.jsx)(b,{}),Object(l.jsxs)(h.c,{children:[Object(l.jsx)(h.a,{path:"".concat(j,"/operator"),children:Object(l.jsx)(_,{})}),Object(l.jsx)(h.a,{path:"".concat(j,"/recruter"),children:Object(l.jsx)(S,{})}),Object(l.jsx)(h.a,{path:"".concat(j,"/admin"),children:Object(l.jsx)("p",{children:"Admin"})}),Object(l.jsx)(h.a,{path:"".concat(j,"/stat"),children:Object(l.jsx)(D,{})}),Object(l.jsx)(h.a,{path:"".concat(j,"/settings"),children:Object(l.jsx)("p",{children:"Settings"})}),Object(l.jsx)(h.a,{path:"".concat(j,"/logout"),children:Object(l.jsx)("p",{children:"Logout"})})]}),n.modalTime?Object(l.jsx)(L,{}):"",n.modalChangeHR.show?Object(l.jsx)(k,{}):"",Object(l.jsx)(M,{})]})})}):Object(l.jsx)(T,{state:n,dispatch:a})}var G=document.getElementById("root");o.a.render(Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(H,{})}),G)},94:function(e,t,n){}},[[227,1,2]]]);
//# sourceMappingURL=main.a197a757.chunk.js.map